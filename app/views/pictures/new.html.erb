<h2>画像を投稿する</h2>

<%= form_with(model: @picture, local: true, url: choose_new_or_edit) do |form| %>
  <% if @picture.errors.any? %>
    <div id="error_explanation">
      <h2><%= @picture.errors.count %>件のエラーがあります。</h2>
      <ul>
        <% @picture.errors.full_messages.each do |msg| %>
          <li><%= msg %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="col mb-5">
    <div class="card h-100">
      <%= form.label :image %>
      <%= image_tag(@picture.image.url) if @picture.image && @picture.image.url %>
      <%= form.file_field :image , class: "card-img-top" %>
      <%= form.hidden_field :image_cache %>
      <div class="card-body p-4">
        <div class="text-center">
          <%= form.label :comment %>
          <%= form.text_field :comment %>
        </div>
      </div>
    </div>
  </div>
  <%= form.submit %>
<% end %>