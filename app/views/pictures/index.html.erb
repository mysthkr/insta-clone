<h2>投稿一覧</h2>

<p><%= notice %></p>

<table>
  <% @pictures.each do |picture| %>
    <tr class="card" style="width: 18rem;">
      <td><%= image_tag picture.image.url %></td>

      <td class="card-body">Comment : <%= picture.comment %></td>
      
      <% unless @picture.user_id == current_user.id %>
        <% if @favorite.present? %>
          <%= link_to 'お気に入り解除する', favorite_path(id: @favorite.id), method: :delete, class: 'btn btn-danger' %>
        <% else %>
          <%= link_to 'お気に入りする', favorites_path(blog_id: @blog.id), method: :post, class: 'btn btn-primary' %>
        <% end %>
      <% end %>
      
      <td><%= link_to '詳細を確認する', picture_path(picture.id) %></td>
      <td><%= link_to "投稿を編集する", edit_picture_path(picture.id), data: { confirm: '本当に編集していいですか？' } %></td>
      <td><%= link_to '投稿を削除する', picture_path(picture.id), method: :delete , data: { confirm: '本当に削除していいですか？' } %></td>
    </tr>
  <% end %>
</table>

<%= link_to '投稿画面へ戻る', new_picture_path %>